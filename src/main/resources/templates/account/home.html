<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Home</title>
    <link rel="stylesheet" th:href="@{/css/home.css}"/>
    <link rel="stylesheet" th:href="@{/css/list.css}"/>
    <link rel="stylesheet" th:href="@{/css/form.css}"/>
    <link rel="stylesheet" th:href="@{/css/calendar.css}"/>
    <!-- FullCalendar (CDN) -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>
    <!-- Flatpickr (커스텀 달력 위젯) -->
    <link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/airbnb.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ko.js"></script>
</head>
<body>
<nav>
    <!-- 모바일용 햄버거 버튼 -->
    <button class="hamburger-btn">☰</button>
    <h1 th:text="|${username} (${roleDisplayName})|">사용자 (역할)</h1>
    <ul>
        <li>
            <a class="menu-link" data-url="/team/users" href="#"
            >전체 사용자 목록</a
            >
        </li>
        <li th:if="${isSuperAdmin}">
            <a class="menu-link" data-url="/admin/users/new" href="#">사용자 등록</a>
        </li>
        <li><a class="menu-link" data-url="/leaves/calendar" href="#">연차 캘린더</a></li>
        <li><a class="menu-link" data-url="/leaves" href="#">연차 신청 내역</a></li>
        <li><a class="menu-link" data-url="/leaves/apply" href="#">연차 신청</a></li>
        <li><a class="menu-link" data-url="/admin/logs" href="#">로그 보기</a></li>
    </ul>
    <!-- Keycloak 브로커를 통한 Kakao 연동 버튼 -->
    <form class="nav-action-form link-form" method="get" th:action="@{/link/kakao/start}">
        <button class="nav-btn link-kakao-btn" type="submit">카카오 로그인 연동</button>
    </form>
    <!-- 로그아웃 -->
    <form class="nav-action-form logout-form" method="post" th:action="@{/logout}">
        <button class="nav-btn logout-btn" type="submit">로그아웃</button>
    </form>
</nav>
<main id="main-content">
    <!--    <h2 th:text="| ${roleDisplayName} 홈|"></h2>-->
    <!--    <p>왼쪽 메뉴를 선택하여 기능을 이용하세요.</p>-->
</main>
<meta name="toast-msg" th:content="${toastMsg}">
<meta name="toast-type" th:content="${toastType}">
<script th:src="@{/js/home.js}" type="module"></script>
</body>
</html>
